function Qi(e){var r=this;this.queries=e||{small:0,medium:640,large:1024},this.breakpoints=[],function(){var e="";for(var t in r.queries)e+="[qi-"+t+"],",r.breakpoints.push(t);r.registered=document.querySelectorAll(e.slice(0,-1))}(),this.getQuery=function(){for(var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=0;t<r.breakpoints.length-1;t++)if(e>=r.queries[r.breakpoints[t]]&&e<r.queries[r.breakpoints[t+1]])return r.breakpoints[t];return r.breakpoints[t]},this.resize=function(){var e=r.getQuery();if(e!==r.currentQuery){r.currentQuery=e;for(var t=0;t<r.registered.length;t++)for(var i=r.registered[t],n=r.breakpoints.indexOf(e);n>=0;n--){var s=i.getAttribute("qi-"+r.breakpoints[n]);"IMG"===i.tagName?s?i.setAttribute("src",s):i.removeAttribute("src"):i.style.backgroundImage=s?"url("+s+")":null,n=-1}}},this.resize(),window.addEventListener?window.addEventListener("resize",r.resize,!1):window.attachEvent("onresize",r.resize)}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var r=0;r<this.length;r++)if(this[r]===e)return r;return-1});